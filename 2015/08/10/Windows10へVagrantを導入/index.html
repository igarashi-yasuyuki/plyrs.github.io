<!DOCTYPE html>
<html ⚡>
<head>
    <meta charset="utf-8">
    
    
    
    
    
    
    <title>Windows10へVagrantを導入 - Playlog</title>
    <link rel="canonical" href="/2015/08/10/Windows10へVagrantを導入/index.html">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
	<meta name="description" content="My Playlog">
    
    <style amp-custom>
        @font-face {
            font-family: 'Noto Sans Japanese';
            font-style: normal;
            font-weight: 400;
            src: url('http://log.playr.jp/font/NotoSansCJKjp-LightLver.woff2') format('woff2'),
                url('http://log.playr.jp/font/NotoSansCJKjp-LightLver.woff') format('woff'),
                url('http://log.playr.jp/font/NotoSansCJKjp-LightLver.ttf') format('truetype');
        }
        
        @charset "UTF-8";
html { font-size: 62.5%; font-family: "Noto Sans Japanese", "Helvetica Neue", "Helvetica", "Arial", "ヒラギノ角ゴ Pro W3", "Hiragino Kaku Gothic Pro", "メイリオ", Meiryo, sans-serif; background: #fcfcfc; color: #2c2c2c; }

a { color: #2E97D8; text-decoration: none; }

a:hover { text-decoration: underline; }

.clearfix::after, #pagination::after { display: block; clear: both; overflow: hidden; height: 0; content: ''; }

#header { border-top: 5px solid #2E97D8; padding: 5rem 1rem; margin: auto; max-width: 740px; }

#header #logo { text-align: center; }

#header #logo h1 { font-family: "Noto Sans Japanese", "Helvetica Neue", "Helvetica", "Arial", "ヒラギノ角ゴ Pro W3", "Hiragino Kaku Gothic Pro", "メイリオ", Meiryo, sans-serif; display: inline-block; margin: 0 0 3.5rem; font-size: 2.5rem; }

#header #logo h2 { margin: 15px 0; }

#header #logo a:hover { text-decoration: none; }

#menu { overflow: hidden; }

#menu ul { text-align: center; overflow: hidden; margin: 0; padding: 0; list-style: none; }

#menu ul li { display: inline-block; margin: 0 1rem; }

#menu ul li a { font-size: 1.4rem; }

@media screen and (min-width: 35.5em) { #header { padding-left: 0; padding-right: 0; display: flex; align-items: center; }
  #header #logo { text-align: left; margin-right: auto; }
  #header #logo h1 { margin: 0; }
  #menu { float: right; } }

#content { margin: auto; max-width: 740px; padding: 0 1rem; }

article { margin-bottom: 6rem; font-size: 1.6rem; }

article.link .title { margin: 1rem 0; }

article header .meta { overflow: hidden; height: 20px; text-align: center; }

article header .meta time { display: block; float: left; height: 100%; }

article header .meta time a { display: block; font-size: 1.3rem; font-weight: bold; color: inherit; text-decoration: none; }

article header .title { font-weight: 700; font-size: 2.5rem; font-family: "Noto Sans Japanese", "Helvetica Neue", "Helvetica", "Arial", "ヒラギノ角ゴ Pro W3", "Hiragino Kaku Gothic Pro", "メイリオ", Meiryo, sans-serif; }

article header .title a { color: inherit; }

article header .title a:hover { text-decoration: none; }

article .entry { padding-top: 1rem; margin-bottom: 15px; line-height: 2; font-family: "Noto Sans Japanese", "Helvetica Neue", "Helvetica", "Arial", "ヒラギノ角ゴ Pro W3", "Hiragino Kaku Gothic Pro", "メイリオ", Meiryo, sans-serif; }

article .entry p, article .entry blockquote, article .entry ul, article .entry ol, article .entry dl, article .entry table, article .entry iframe, article .entry h3, article .entry h4, article .entry h5, article .entry h6, article .entry .video-container { margin-top: 15px; }

article .entry blockquote { margin: 1.5rem .5rem; padding: 0 20px; border-left: 1px solid #2E97D8; font-family: Georgia, "Times New Roman", serif; }

article .entry blockquote footer { margin: 20px 0 0; padding-top: 0; border-top: none; font-size: 0.8em; line-height: 1; color: #4E5359; }

article .entry blockquote footer cite::before { padding: 0 0.5em; color: #ccc; content: '—'; }

article .entry code, article .entry pre { font-family: Monaco, Menlo, Consolas, "Courier New", monospace; }

article .entry code { margin: 0 2px; padding: 0 5px; border: 1px solid #7C848C; border-radius: 3px; background: #f9f9f9; color: #666; font-size: 0.9em; }

article .entry pre { overflow: auto; padding: 7px 15px; border: 1px solid #7C848C; }

article .entry pre code { margin: 0; padding: 0; border: none; border-radius: 0; background: none; }

article .entry ul, article .entry ol, article .entry dl { margin-left: 20px; padding: 0; }

article .entry ul ul, article .entry ul ol, article .entry ul dl, article .entry ol ul, article .entry ol ol, article .entry ol dl, article .entry dl ul, article .entry dl ol, article .entry dl dl { margin-top: 0; }

article .entry h1, article .entry h2 { margin-top: 1.5em; font-weight: normal; line-height: 1; }

article .entry h3, article .entry h4, article .entry h5, article .entry h6 { font-weight: normal; line-height: 1; }

article .entry img, article .entry video { max-width: 100%; height: auto; border: none; }

article .entry iframe { border: none; }

article .entry .caption { position: relative; display: block; margin-top: 5px; padding-left: 25px; color: #4E5359; font-size: 0.9em; }

article .entry .video-container { position: relative; overflow: hidden; padding-top: 30px; padding-bottom: 56.25%; height: 0; }

article .entry .video-container iframe, article .entry .video-container object, article .entry .video-container embed { position: absolute; top: 0; left: 0; margin-top: 0; width: 100%; height: 100%; }

article .entry .pullquote { float: right; margin: 1em 0 0.5em 1.5em; padding: 0; width: 45%; border: none; text-align: left; font-size: 1.5em; }

article .entry table { border-collapse: collapse; }

article .entry table td { padding: 2px 10px; border: 1px solid #7C848C; }

article footer { padding: 10px 0; border-bottom: 2px solid #2E97D8; }

article footer > div { margin: 10px 0; }

article footer a { padding-right: 1rem; }

#pagination { font-size: 1.4rem; }

#pagination a { display: inline-block; font-weight: bold; }

#pagination .prev { float: left; }

#pagination .prev::before { display: inline-block; margin-right: .5rem; content: '«'; text-align: center; }

#pagination .next { float: right; }

#pagination .next::after { display: inline-block; margin-left: .5rem; content: '»'; text-align: center; }

.archive-title { color: #4E5359; font-weight: normal; font-size: 2.5rem; }

.search input { box-sizing: border-box; padding: 1rem 1rem; width: 100%; border: 1px solid #7C848C; color: #4E5359; font-size: 1.6rem; }

.search input:focus { border-color: #2E97D8; }

.widget { margin-bottom: 30px; }

.widget ul.entry { overflow: hidden; margin: 0; padding: 0; list-style: none; font-size: 14px; line-height: 2; }

.widget ul.entry li { float: left; margin-right: 30px; }

.widget.tag small { margin-left: 2px; color: #4E5359; }

.widget.tag small::before { padding-right: 2px; content: '('; }

.widget.tag small::after { padding-left: 2px; content: ')'; }

#footer { padding: 3rem 1rem; color: #4E5359; font-size: 1.2rem; margin: auto; max-width: 740px; }

#footer small { display: inline-block; font-size: inherit; margin-left: 1rem; }

.entry .gist { overflow: auto; margin-top: 15px; padding: 7px 15px; border: 1px solid #7C848C; border-radius: 2px; background: #eee; color: #666; line-height: 1.6; }

.entry .gist .gist-file { margin: 0; border: none; font-size: 0.9em; font-family: inherit; }

.entry .gist .gist-file .gist-data { border-bottom: none; background: none; }

.entry .gist .gist-file .gist-data pre { padding: 0; font-family: font-mono; }

.entry .gist .gist-file .gist-meta { margin-top: 5px; padding: 0; background: none; color: #4E5359; font-size: 100%; }

.entry figure { margin: 0; }

.entry figure.highlight { padding: 7px 15px; border: 1px solid #7C848C; border-radius: 2px; background: #fff; overflow-x: auto; margin: 1em 0; line-height: 1.1; }

.entry figure.highlight figcaption { margin-bottom: 5px; color: #4E5359; }

.entry figure.highlight figcaption a { position: absolute; right: 15px; }

.entry figure pre { margin: 0; padding: 0; border: none; }

.entry figure table { margin-top: 0; border-spacing: 0; }

.entry figure table td { border: none; }

.entry figure .gutter { padding: 0 15px 0 0; border-right: 1px solid #7C848C; color: #4E5359; text-align: right; }

.entry figure .code { padding: 0 0 0 15px; border-left: 1px solid #fff; color: #2E2E2E; }

.entry figure .line { line-height: 20px; }

.entry pre .comment, .entry pre .bash .shebang, .entry pre .javascript .javadoc { color: #969896; }

.entry pre .string, .entry pre .javascript .regexp, .entry pre .json .attribute, .entry pre .php .regexp, .entry pre .xml .value, .entry pre .scss .built_in { color: #df5000; }

.entry pre .keyword, .entry pre .css .at_rule, .entry pre .css .important, .entry pre .javascript .tag, .entry pre .javascript .javadoctag, .entry pre .php .phpdoc, .entry pre .scss .tag, .entry pre .scss .at_rule, .entry pre .scss .important { color: #a71d5d; }

.entry pre .bash .literal, .entry pre .bash .built_in, .entry pre .css .attribute, .entry pre .css .hexcolor, .entry pre .css .number, .entry pre .css .function, .entry pre .javascript .built_in, .entry pre .javascript .literal, .entry pre .javascript .number, .entry pre .json .number, .entry pre .php .literal, .entry pre .php .number, .entry pre .scss .preprocessor, .entry pre .scss .number, .entry pre .scss .hexcolor, .entry pre .scss .function, .entry pre .scss .attribute { color: #0086b3; }

.entry pre .css .tag { color: #63a35c; }

.entry pre .bash .variable, .entry pre .css .attr_selector, .entry pre .css .value, .entry pre .javascript .tag .title, .entry pre .scss .variable { color: #333333; }

.entry pre .bash .title, .entry pre .css .id, .entry pre .css .class, .entry pre .css .pseudo, .entry pre .javascript .title, .entry pre .php .title, .entry pre .scss .id, .entry pre .scss .pseudo, .entry pre .scss .class { color: #795da3; }

    </style>
    
    
    
     
    
    <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "NewsArticle",
            "headline": "Windows10へVagrantを導入",
            
            "author": {
                "@type": "Person",
                "name": ""
            },
            "datePublished": "2015-08-10T11:03:31.000Z"
        }
    </script>

    
    
    <style>body {opacity: 0}</style><noscript><style>body {opacity: 1}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
</head>
<body>
    <header id="header" role="banner">
	<div id="logo">
	    <h1><a href="/">Playlog</a></h1>
	    
	</div>
	<nav id="menu">
	    <ul>
	        
	        <li><a href="/">Home</a></li>
	        
	        <li><a href="/archives">Archive</a></li>
	        
	    </ul>
	</nav>
</header>

    <main role="main">
        <div id="content">
            
    
    <article class="post">
	<header>
	    
	        <div class="meta">
	            <time datetime="2015-08-10T11:03:31.000Z"><a href="/2015/08/10/Windows10へVagrantを導入/">2015-08-10</a></time>
	        </div>
	    
	    

<h1 class="title">
    Windows10へVagrantを導入
</h1>


	</header>
	<div class="entry">
	    
	    <p>Wordpressなどの開発はXamppで十分だが、Nodeを本格的にWindows上で行うのはきつい。<br>というか本番環境がWindowsならまだいいかもしれないが、現実はほとんどそうではないので仮想環境上で開発すべきであろう。<br>Windows10へアップグレードしたのを機会に、前々から検討していたVagrantでの開発環境導入を試みる。 </p>
<h2 id="事前作業">事前作業</h2><h3 id="Virtualization_Technologyを有効にする">Virtualization Technologyを有効にする</h3><p>Vagrantは仮想環境を使用するため、Virtualization Technologyを有効にする必要がある。<br>PCのBIOSに入り、<code>Virtualization Technology</code> を <code>Enabled</code> へ  </p>
<h3 id="Vagrant、VirtualBoxをインストール">Vagrant、VirtualBoxをインストール</h3><p>各公式サイトから最新版をダウンロードし、インスコ。</p>
<p>Vagrant 公式サイト<br><a href="http://www.vagrantup.com/" target="_blank" >http://www.vagrantup.com/</a>  </p>
<p>VirtualBox<br><a href="https://www.virtualbox.org/" target="_blank" >https://www.virtualbox.org/</a>  </p>
<h3 id="BOXを取得">BOXを取得</h3><p>配布サイトから必要なBoxを吟味。<br>今回はCentOS v6.6 64bit。  </p>
<p>Vagrantbox.es<br><a href="http://www.vagrantbox.es/" target="_blank" >http://www.vagrantbox.es/</a>  </p>
<h3 id="CentOS_6-6_64bit_を追加">CentOS 6.6 64bit を追加</h3><p>ここからコマンドプロンプト</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant box add centos6.<span class="number">6</span> http://sourceforge.net/projects/nrel-vagrant-boxes/files/CentOS-<span class="number">6.6</span>-x86_64-v20150426.box</span><br></pre></td></tr></table></figure>
<h3 id="追加したBoxを確認">追加したBoxを確認</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant box list</span><br></pre></td></tr></table></figure>
<h2 id="Vagrant_初期化">Vagrant 初期化</h2><p>ここからコマンドプロンプト on 作業フォルダ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant init centos6.<span class="number">6</span></span><br></pre></td></tr></table></figure>
<h2 id="仮想マシンの操作">仮想マシンの操作</h2><h3 id="起動">起動</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant up</span><br></pre></td></tr></table></figure>
<h3 id="状態確認">状態確認</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant status</span><br></pre></td></tr></table></figure>
<h3 id="終了">終了</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant halt</span><br></pre></td></tr></table></figure>
<h3 id="再起動">再起動</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant reload</span><br></pre></td></tr></table></figure>
<h3 id="破棄">破棄</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant destroy</span><br></pre></td></tr></table></figure>
<h2 id="仮想マシンへ接続">仮想マシンへ接続</h2><p>TeraTermで接続した。</p>
<h3 id="git_インストール">git インストール</h3><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum -y <span class="keyword">install</span> git</span><br></pre></td></tr></table></figure>
<h3 id="Node-js_インストール">Node.js インストール</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/creationix/nvm.git ~/.nvm</span><br><span class="line">$ <span class="built_in">source</span> ~/.nvm/nvm.sh</span><br><span class="line">$ nvm install <span class="number">0.12</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --no-bin-links</span><br></pre></td></tr></table></figure>
<h3 id="ファイアーウォールを停止">ファイアーウォールを停止</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo service iptables stop</span><br><span class="line">$ sudo chkconfig iptables off</span><br></pre></td></tr></table></figure>
<h3 id="雑感">雑感</h3><p>Windows10でも今回は問題はなかったが、環境やVirtualBoxのバージョンによっては不具合も報告されているようなのでもうちょっと待ったほうが安全かもしれない。<br>Vagrantを開発環境として本格運用していくならイメージの保存や構成管理ツールも合わせるのが楽っぽいので、順次導入していきたい。</p>

	    
	</div>
	<footer class="clearfix">
	    
	    
<div class="tags">
	
	<a href="/tags/Vagrant/">#Vagrant</a>
	
	<a href="/tags/Windows/">#Windows</a>
	
</div>

	</footer>
</article>

        </div>
    </main>

    <footer id="footer" role="contentinfo">
    © 2015
    
    Hirofumi
    .
    <small>Powered by <a href="http://hexo.io" rel="nofollow">Hexo</a></small>
</footer>

    
    <amp-pixel src="https://ssl.google-analytics.com/collect?v=1&tid=UA-68414504-2&t=pageview&cid=RANDOM&dt=TITLE&dl=CANONICAL_URL&z=RANDOM"></amp-pixel>
    
</body>
</html>